(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9451],{98872:function(e,a,i){Promise.resolve().then(i.bind(i,66426))},95894:function(e,a,i){"use strict";i.d(a,{C:function(){return s}});var n=i(86764);i(7481);var t=i(33935),r=i(51548);let o=(0,t.j)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function s(e){let{className:a,variant:i,...t}=e;return(0,n.jsx)("div",{className:(0,r.cn)(o({variant:i}),a),...t})}},66426:function(e,a,i){"use strict";i.r(a),i.d(a,{default:function(){return S}});var n=i(86764),t=i(7481),r=i(93239);i(16182);var o=i(33651),s=i(45014),l=i(94157),d=i(57878),c=i(93760),u=i(78760);let m=["Afghanistan","Albania","Algeria","Andorra","Angola","Antigua and Barbuda","Argentina","Armenia","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bhutan","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Brunei","Bulgaria","Burkina Faso","Burundi","Cabo Verde","Cambodia","Cameroon","Canada","Central African Republic","Chad","Chile","China","Colombia","Comoros","Congo","Costa Rica","Croatia","Cuba","Cyprus","Czech Republic","Denmark","Djibouti","Dominica","Dominican Republic","East Timor","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Eswatini","Ethiopia","Fiji","Finland","France","Gabon","Gambia","Georgia","Germany","Ghana","Greece","Grenada","Guatemala","Guinea","Guinea-Bissau","Guyana","Haiti","Honduras","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Israel","Italy","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Kiribati","Korea, North","Korea, South","Kosovo","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Marshall Islands","Mauritania","Mauritius","Mexico","Micronesia","Moldova","Monaco","Mongolia","Montenegro","Morocco","Mozambique","Myanmar","Namibia","Nauru","Nepal","Netherlands","New Zealand","Nicaragua","Niger","Nigeria","North Macedonia","Norway","Oman","Pakistan","Palau","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Poland","Portugal","Qatar","Romania","Russia","Rwanda","Saint Kitts and Nevis","Saint Lucia","Saint Vincent and the Grenadines","Samoa","San Marino","Sao Tome and Principe","Saudi Arabia","Senegal","Serbia","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Sudan","Spain","Sri Lanka","Sudan","Suriname","Sweden","Switzerland","Syria","Taiwan","Tajikistan","Tanzania","Thailand","Timor-Leste","Togo","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Tuvalu","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","Uruguay","Uzbekistan","Vanuatu","Vatican City","Venezuela","Vietnam","Yemen","Zambia","Zimbabwe"],g=["Male","Female","Non-binary","Genderqueer","Genderfluid","Agender","Bigender","Pangender","Androgynous","Two-Spirit","Demiboy","Demigirl","Transgender Male","Transgender Female","Cisgender Male","Cisgender Female","Intersex","Other","Prefer not to say"],h=["Drivers License","National ID","Passport"],f=["image/jpeg","image/png","image/jpg"];function x(e){let{handleFormSubmit:a}=e,[i,r]=(0,t.useState)({identificationMethod:"",identificationImage:"",address:"",nationality:"",gender:""}),[x,p]=(0,t.useState)(!1),[v,y]=(0,t.useState)(""),[b,j]=(0,t.useState)("");async function w(e){e.preventDefault(),p(!0),await a(i,N,S),p(!1)}function C(e,a){"object"==typeof e&&null!==e?r(a=>({...a,[e.target.name]:e.target.value})):r(i=>({...i,[e]:a}))}function S(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"An error occured",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3;y(e),setTimeout(()=>y(""),a)}function N(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Operation successful",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3;j(e),setTimeout(()=>j(""),a)}return(0,n.jsxs)("form",{className:"flex flex-col gap-5 my-2",onSubmit:w,children:[(0,n.jsxs)(o.Ph,{name:"identificationMethod",value:i.identificationMethod,onValueChange:e=>C("identificationMethod",e),required:!0,children:[(0,n.jsx)(o.i4,{children:(0,n.jsx)(o.ki,{placeholder:"Select a verification method"})}),(0,n.jsx)(o.Bw,{children:h.map((e,a)=>(0,n.jsx)(o.Ql,{value:e,children:e},e+a))})]}),(0,n.jsxs)("div",{className:"grid w-full max-w-sm items-center gap-1.5",children:[i.identificationImage&&(0,n.jsx)("img",{src:i.identificationImage,alt:"Identification Image",className:"text-center mx-auto",width:100,height:100}),(0,n.jsx)(l._,{htmlFor:"identificationImage",children:"Identification Image"}),(0,n.jsx)(s.I,{id:"identificationImage",name:"identificationImage",onChange:function(e){let a=e.target.files[0];if(!f.includes(a.type))return S("Invalid Image. Only JPG and PNG are supported");if(a.size/1024>1024)return S("Image must be less than 1mb.");let i=new FileReader;i.addEventListener("load",()=>{r(e=>({...e,identificationImage:i.result}))}),i.readAsDataURL(e.target.files[0])},type:"file",accept:f.join(", "),className:"py-10",required:!0})]}),(0,n.jsxs)("div",{className:"grid w-full max-w-sm items-center gap-1.5",children:[(0,n.jsx)(l._,{htmlFor:"address",children:"Address"}),(0,n.jsx)(s.I,{id:"address",name:"address",onChange:C,type:"text",placeholder:"Where you live",required:!0})]}),(0,n.jsxs)(o.Ph,{name:"nationality",value:i.nationality,onValueChange:e=>C("nationality",e),required:!0,children:[(0,n.jsx)(o.i4,{children:(0,n.jsx)(o.ki,{placeholder:"Select your nationality"})}),(0,n.jsx)(o.Bw,{children:m.map((e,a)=>(0,n.jsx)(o.Ql,{value:e,children:e},e+a))})]}),(0,n.jsxs)(o.Ph,{name:"gender",value:i.gender,onValueChange:e=>C("gender",e),required:!0,children:[(0,n.jsx)(o.i4,{children:(0,n.jsx)(o.ki,{placeholder:"Select your gender"})}),(0,n.jsx)(o.Bw,{children:g.map((e,a)=>(0,n.jsx)(o.Ql,{value:e,children:e},e+a))})]}),(0,n.jsx)(u.Z,{msg:v,type:"error"}),(0,n.jsx)(u.Z,{msg:b,type:"success"}),(0,n.jsxs)(d.z,{onClick:w,className:"flex gap-2",disabled:x,children:[x&&(0,n.jsx)(c.Z,{}),"Verify"]})]})}var p=i(1630),v=i(58964),y=i(92671),b=i(95894),j=i(51548),w=i(12081);function C(e){var a;let{setIsFormActive:i}=e,{authData:t}=(0,v.Z)(),{data:r,isLoading:o,error:s}=(0,w.ZP)("/api/kyc");s&&y.Am.error("Failed to fetch required data: "+s.message,{id:"error"});let l=null==r?void 0:null===(a=r.data.find(e=>e.userId===t.id))||void 0===a?void 0:a.status.toUpperCase();return(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"text-xl text-center mb-2",children:"KYC Status"}),(0,n.jsx)("div",{className:"relative p-4 border-2 text-center border-dashed rounded-lg",children:o?(0,n.jsx)(c.J,{loaderClassName:"w-6 h-6"}):l?(0,n.jsx)(b.C,{className:(0,j.cn)("text-base px-7 py-3",{"bg-green-800":"VERIFIED"===l},{"bg-cyan-600":"REVIEWING"===l},{"bg-yellow-600":"PENDING"===l}),children:l}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("p",{children:"No KYC Record Found"}),(0,n.jsx)(d.z,{className:"mt-4",onClick:()=>i(!0),children:"Create KYC Record"})]})})]})}function S(){let[e,a]=(0,t.useState)(!1),{authData:i}=(0,v.Z)();async function o(e,a,n){if(!e.identificationImage)return n("Must select a valid image");if(Object.values(e).some(e=>""===e))return n("All fields are required to proceed");try{let n=await p.Z.post("/api/kyc",{userId:i.id,image:e.identificationImage,address:e.address,nationality:e.nationality,identification:e.identificationMethod,gender:e.gender});a(n.data.message),y.Am.success("KYC Record created successfully"),console.log(n)}catch(e){n(e.response?e.response.data.message:e.message),y.Am.error("Failed to create KYC Record")}}return(0,n.jsxs)(r.Zb,{className:"self-center p-4 mt-10",children:[(0,n.jsxs)(r.Ol,{children:[(0,n.jsx)(r.ll,{className:"text-xl font-bold",children:"KYC Verification"}),(0,n.jsx)(r.SZ,{className:"text-muted-foreground text-sm leading-10",children:"Verify your account to unlock special exclusive features"})]}),(0,n.jsx)(r.aY,{children:e?(0,n.jsx)(x,{handleFormSubmit:o}):(0,n.jsx)(C,{setIsFormActive:a})})]})}},6631:function(e,a,i){"use strict";i.d(a,{f:function(){return s}});var n=i(7481),t=i(13964),r=i(86764),o=n.forwardRef((e,a)=>(0,r.jsx)(t.WV.label,{...e,ref:a,onMouseDown:a=>{var i;a.target.closest("button, input, select, textarea")||(null===(i=e.onMouseDown)||void 0===i||i.call(e,a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));o.displayName="Label";var s=o},24021:function(e,a,i){"use strict";i.d(a,{Z:function(){return r}});var n=i(7481),t={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};/**
 * @license @tabler/icons-react v3.12.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(e,a,i,r)=>{let o=(0,n.forwardRef)((i,o)=>{let{color:s="currentColor",size:l=24,stroke:d=2,title:c,className:u,children:m,...g}=i;return(0,n.createElement)("svg",{ref:o,...t[e],width:l,height:l,className:["tabler-icon","tabler-icon-".concat(a),u].join(" "),..."filled"===e?{fill:s}:{strokeWidth:d,stroke:s},...g},[c&&(0,n.createElement)("title",{key:"svg-title"},c),...r.map(e=>{let[a,i]=e;return(0,n.createElement)(a,i)}),...Array.isArray(m)?m:[m]])});return o.displayName="".concat(i),o}}},function(e){e.O(0,[792,6697,5391,2817,2671,2081,878,8024,368,3677,3014,1744],function(){return e(e.s=98872)}),_N_E=e.O()}]);